# =========================
# CraftyMind AI Rules
# =========================

BASE_TEMPLATES = [
    "ุชุตููู {item} ูุฏูู ุจุงุณุชุฎุฏุงู {material} ุจุฃุณููุจ ุนุตุฑู",
    "ุตูุงุนุฉ {item} ูููุฒ ูู {material} ููุงุณุจ ูููุฏุงูุง",
    "ุชูููุฐ {item} ููู ูู {material} ุจููุณุฉ ุฅุจุฏุงุนูุฉ",
    "ุงุจุชูุงุฑ {item} ููุฒูู ุจุงุณุชุฎุฏุงู {material} ุนุงูู ุงูุฌูุฏุฉ",
    "ุฅูุชุงุฌ {item} ูุฏูู ูู {material} ุจุชุตููู ูุฑูุฏ",
    "ุฅูุดุงุก {item} ุฒุฎุฑูู ุจุงุณุชุฎุฏุงู {material} ููููุงุฒู",
    "ุชุตููุน {item} ุนููู ูู {material} ููุงุณุชุฎุฏุงู ุงููููู",
    "ุนูู {item} ุชูููุฏู ุจุงุณุชุฎุฏุงู {material} ุจุฑูุญ ุญุฏูุซุฉ",
]

CATEGORY_ITEMS = {
    "ุฎูุงุทุฉ": [
        "ูุณุงุฏุฉ", "ุญููุจุฉ", "ููุฑุด", "ุณุชุงุฑุฉ", "ูุญูุธุฉ", "ุฏููุฉ",
        "ุบุทุงุก ูุณุงุฏุฉ", "ููุงุจุณ ุฃุทูุงู", "ูุฑููุฉ", "ุดุฑุงุฆุท ุดุนุฑ",
        "ูุฎุฏุฉ ุฏูููุฑ", "ุบุทุงุก ุทุงููุฉ", "ููุณ ูุฏุงูุง", "ููุงุจุณ ููุฒููุฉ"
    ],
    "ุฎุดุจ": [
        "ุตูุฏูู ุฎุดุจู", "ุฅุทุงุฑ ุตูุฑ", "ุฑู", "ุทุงููุฉ ุตุบูุฑุฉ",
        "ุนูุจุฉ ูุฌููุฑุงุช", "ุณุงุนุฉ ุญุงุฆุท", "ุญุงูู ูุงุชู",
        "ููุชุจุฉ ูุตุบุฑุฉ", "ูุฑุณู", "ูุนุจุฉ ุฃุทูุงู"
    ],
    "ุฎุฑุฒ": [
        "ููุงุฏุฉ", "ุณูุงุฑ", "ุญูู", "ุฎุงุชู", "ุณุจุญุฉ",
        "ุฅูุณุณูุงุฑ ุดุนุฑ", "ุชุนูููุฉ ููุงุชูุญ", "ุญุฒุงู"
    ],
    "ุฑุณู": [
        "ููุญุฉ ุฒูุชูุฉ", "ููุญุฉ ุฃูุฑูููู", "ููุญุฉ ุชุฌุฑูุฏูุฉ",
        "ุจูุฑุชุฑูู", "ููุญุฉ ุทุจูุนุฉ", "ุฑุณูุฉ ูุญู"
    ],
    "ุทูุงุก": [
        "ูุทุนุฉ ุฏูููุฑ", "ุฒุฌุงุฌ ูุฒุฎุฑู", "ุฃูุงูู ูุทููุฉ",
        "ุฃุญุฌุงุฑ ูุฒููุฉ", "ุฌุฏุฑุงู ูููุฉ"
    ],
    "ุตุงุจูู ูุฏูู": [
        "ุตุงุจูู ุนุทุฑู", "ุตุงุจูู ุฃุนุดุงุจ", "ุตุงุจูู ุฃุทูุงู",
        "ุตุงุจูู ุทุจูุนู", "ุตุงุจูู ุนูุงุฌู"
    ],
    "ุดููุน": [
        "ุดูุนุฉ ูุนุทุฑุฉ", "ุดูุนุฉ ุฏูููุฑ", "ุดูุนุฉ ููุงุณุจุงุช",
        "ุดูุนุฉ ุทุจูุนูุฉ", "ุดูุนุฉ ูููุฉ"
    ],
    "ุฃุดุบุงู ูุฑููุฉ": [
        "ุจุทุงูุฉ ุชููุฆุฉ", "ุฏูุชุฑ ูุฏูู", "ุฃูุจูู ุตูุฑ",
        "ุนูุจุฉ ูุฏุงูุง", "ุฒููุฉ ูุฑููุฉ"
    ],
    "ูุฌููุฑุงุช": [
        "ููุงุฏุฉ ูุถูุฉ", "ุณูุงุฑ ูุฏูู", "ุฎุงุชู ููู",
        "ูุฌููุฑุงุช ุชุฑุงุซูุฉ", "ุฅูุณุณูุงุฑุงุช ุญุฏูุซุฉ"
    ],
    "ูุณูุฌ": [
        "ุณุฌุงุฏุฉ ุตุบูุฑุฉ", "ูุดุงุญ", "ููุฑุด",
        "ุบุทุงุก ูุฑุณู", "ูุทุนุฉ ุฏูููุฑ"
    ],
    "ูุฎุงุฑ": [
        "ููุจ ูุฎุงุฑู", "ูุฒูุฑูุฉ", "ุทุจู",
        "ูุทุนุฉ ูููุฉ", "ูุนุงุก"
    ],
    "ุณูุฑุงููู": [
        "ููุจ ุณูุฑุงููู", "ุทุจู ูุฒุฎุฑู",
        "ูุทุนุฉ ุฏูููุฑ", "ุจูุงุท ููู"
    ],
    "ุญูุงุฆุจ": [
        "ุญููุจุฉ ูุฏ", "ุญููุจุฉ ุธูุฑ",
        "ุญููุจุฉ ุชุณูู", "ุญููุจุฉ ุณูุฑ"
    ],
    "ููุงุจุณ": [
        "ูุณุชุงู", "ุนุจุงุกุฉ",
        "ููุงุจุณ ุฃุทูุงู", "ููุงุจุณ ููุฒููุฉ"
    ],
    "ุฅูุณุณูุงุฑุงุช": [
        "ุญุฒุงู", "ูุธุงุฑุฉ",
        "ุณุงุนุฉ", "ุฅูุณุณูุงุฑ ุดุนุฑ"
    ]
}

# -------------------------
# ุชูููุฏ ุฃูุซุฑ ูู 200 ููุฑุฉ ููู ุชุตููู ูููุทูู
# -------------------------
def generate_ideas(materials):
    """
    ุชูููุฏ ุฃููุงุฑ ููุทููุฉ ุจูุงุกู ุนูู ุงูููุงุฏ ุงููุฏุฎูุฉ.
    ูู ููุฑุฉ ูุฑุชุจุทุฉ ุจุนูุตุฑ ุถูู ุงูุชุตููู ุงูููุงุณุจ.
    """
    ideas = []

    for material in materials:
        material = material.strip()
        # ูุญุฏุฏ ุงูุชุตููู ุงูุฐู ูุชูุงูู ูุน ุงููุงุฏุฉ
        matched_categories = []
        for category in CATEGORY_ITEMS:
            if category in material or category.lower() in material.lower():
                matched_categories.append(category)

        # ุฅุฐุง ูู ูุฌุฏ ุชุตููู ูุงุถุญุ ูุทุจู ุนูู ูู ุงูุชุตูููุงุช
        if not matched_categories:
            matched_categories = CATEGORY_ITEMS.keys()

        # ุชูููุฏ ุงูุฃููุงุฑ ููู ุชุตููู ูุชุทุงุจู
        for category in matched_categories:
            for item in CATEGORY_ITEMS[category]:
                for template in BASE_TEMPLATES:
                    ideas.append(template.format(item=item, material=material))

    # ูุถูู ุงูุญุตูู ุนูู ุฃูุซุฑ ูู 200 ููุฑุฉ
    return ideas[:300]

# -------------------------
# Chatbot
# -------------------------
GREETINGS = [
    "ูุฑุญุจุง", "ุฃููุงู", "ุงูุณูุงู ุนูููู",
    "ููุง", "ุตุจุงุญ ุงูุฎูุฑ", "ูุณุงุก ุงูุฎูุฑ"
]

def chatbot_response(message):
    message = message.strip()

    # ุงูุฑุฏ ุนูู ุงูุชุญูุฉ
    for g in GREETINGS:
        if g in message:
            return (
                "๐ธ ูุฑุญุจูุง ุจู ูู CraftyMind\n"
                "ุฃูุง ูุณุงุนุฏู ุงูุฐูู ููุฃุนูุงู ุงููุฏููุฉ.\n"
                "ุงุณุฃููู ุนู ุชุตูููุ ูุงุฏุฉุ ุฃู ููุฑุฉ ูุณุฃุณุงุนุฏู ููุฑูุง ๐"
            )

    # ุงูุฑุฏ ุญุณุจ ุงูุชุตููู
    for category in CATEGORY_ITEMS:
        if category in message:
            return (
                f"โจ ุฃููุงุฑ ูู ูุฌุงู {category}:\n"
                + "ุ ".join(CATEGORY_ITEMS[category][:5])
            )

    return "๐ค ูู ุฃููู ุณุคุงูู ุฌูุฏูุงุ ูู ููููู ุงูุชูุถูุญุ"
